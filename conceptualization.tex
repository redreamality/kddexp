\section{Probability Recalculation After Conceptualization}
\label{sec:conceptualization}
Given an entity $e$, from Probase, we can acquire its concepts' set $C$ and for each $c_i \in C$, the frequency $n(c_i,e)$ can be accordingly derived, which means how many times the $e$ isA $c_i$ pattern can be observed from the original corpus.

However, the concepts here has various forms as illustrated in Example~\ref{exa:conc}. For our task, we only need relatively general concepts. The number of entities can be very large, but the number of top concepts and the relationship between them are limited, literally, we can find all the possible relationship between concepts instead of store all the long-tailed entities and their relations, which indicates the rationality of doing conceptualization.

\begin{example}[Various forms of concepts]
\label{exa:conc}
Take the entity \term{Mona Lisa} as example, its concepts includes \term{painting, famous painting, world's most famous painting},  with corresponding frequency \term{33,8,1}
\end{example}



\subsection{Problem Definition}
Given  $Probase$, for each entity $e$, we can derive $P(c_i|e)$, where $c_i \in C_{probase}$,
$$P(c_i|e)=\frac{n(c_i,e)}{n(e)}$$

We divide the $C_{Probase}$ into 2 parts, $C_{simple}$ and $C_{long}$, where $C_{simple}$ only contains one word and $C_{long}$ are the rest.
$C_{simple}$ are generated by the head modifier detection. The problem here is to recalculate the probability $P(\gamma_i|e)$ where $\gamma_i \in C_{simple}$, literally, we should contribute all the counts of $C_{long}$ to $C_{simple}$.

\subsection{Problem Solution}
After head modifier detection, we have a set of $\gamma_i \in C_{simple}$, among all the $c_{long_j}\in C_{long}$, there are 2 cases in the probase determined by whether the $c_{long_j}$ has an isA edge towards $\gamma_i$ or not.
The intuition of doing so is illustrated in the example~\ref{exa:clc}:

\begin{example}[contributing long concepts]
\label{exa:clc}
Assume that  \term{Mona Lisa is a painting} and \term{Mona Lisa is a famous painting} are observed respectively \term{33 times and 8 times} from different documents, we will get the knowledge that \term{Mona Lisa is a painting} occurs \term{41 times} instead of \term{33 times}. There are less chance of occurring \term{Famous painting is a painting} so that there won't be necessarily an isA edge from \term{famous painting} to \term{painting}.
\end{example}


Therefore, to calculate  $P(\gamma_i|e)$, there are three cases:

\begin{enumerate}

\item $e$ isA $\gamma_i$. The entity has has an isA edge towards one or more simple concept, which gives the original $P_{original}(\gamma_i|e)$

\item $e$ isA $c_{long}$ , $c_{long} $ isA $\gamma_i$, In this case, we need to calculate the following equation
$$P(\gamma_i|e) = \sum_{c_{long}^*\in C_{long}}   P(\gamma_i|c_{long}^*,e)   \times    P(c_{long}^*|e) $$
, where $P(c_{long}^*|e)$ can be obtained from $Probase$ and
\begin{equation}P(\gamma_i|c_{long},e) = \frac{n(\gamma,c_{long}, e)}{n(\gamma_i, e)}\label{eq:pcge}\end{equation}
We assume that the occurrence of $e$ does not affect $P(\gamma_i|c_{long})$ equivalently speaking, $P(\gamma_i|c_{long})$ is independent from $e$, thus Eq.~\ref{eq:pcge} can be simplified
$$P(\gamma_i|c_{long},e) =P_{probase}(\gamma_i|c_{long}) = \frac{n(\gamma,c_{long})}{n(\gamma_i)}$$
which can be obtained from $Probase$.

\item $e$ isA $c_{long}$ , $c_{long}$ has no edge towards $\gamma_i$. The edge here refers to the isA relationship in $Probase$. Example~\ref{exa:clc} pointed out that there won't be necessarily an isA edge from \term{famous painting}($c_{long}$ ) to \term{painting}($\gamma_i$), however $c_{long}$ obviously belongs to $\gamma_i$. In this case, since it's detected by the head modifier method, we assume
    $$P_{head}(\gamma_i|c_{long_j})=1 $$

    Another reason why we do head modifier detection here is that even if the long concept $c_{long}$ has an isA edge towards a certain concept $\gamma_i'$, it still sometimes not include the head concept of the long concept which is very plausible. The tradeoff of the 2 method is described in Example~\ref{exa:HvsO}

\end{enumerate}

Notice that the boundary between case 2 and case 3 are not strict, there are such edges that have low observation in Example~\ref{exa:HvsO}. So that if we consider them as a whole, we can derive:
\begin{equation} P(\gamma_i|c_{long})=\lambda P_{head}(\gamma_i|c_{long})+(1-\lambda)P_{probase}(\gamma_i|c_{long}) \label{eq:pcgclong}\end{equation}
where $\lambda$ is a parameter \xch{principle: related to plausibility, number of occurrence, varies for different $c_{long}$ should it be derived from learning ?} since we assume $P_{head}(\gamma_i|c_{long})$ to be 1, Eq.~\ref{eq:pcgclong} is simplified to:
$$P(\gamma_i|c_{long})=\lambda  +(1-\lambda)P_{probase}(\gamma_i|c_{long}) $$



\begin{example}[Head concepts VS Original concepts]
\label{exa:HvsO}
Again take \term{famous painting} as example, whose concepts \term{image, treasure} are reasonable but implausible, since their occurrence are twice and once respectively. However, the most plausible concept \term{painting} is not among the concepts. On the other hand, there exists several concepts that have also reasonable. For example \term{ topaz}(a kind of yellow gemstone) has the concept \term{precious stones}, and \term{precious stones} has an edge towards \term{material} which is reasonable.
\end{example}


Finally  $P(\gamma_i|e)$ is calculated using the following equation:

\begin{equation}
\begin{split}
P(\gamma_i|e) &= P_{original}(\gamma_i|e)+\\& \sum_{ c_{long}^*\in C_{long} } [ \lambda_{i}^*+(1-\lambda_{i}^*) P(\gamma_i|c_{long}^*) ] \times  P(c_{long}^*|e)
\end{split}
\label{eq:pgge}\end{equation}



\begin{figure*}[!hptb]
\label{fig:pgge}
\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance= 3 cm,
  thick,main node/.style={circle,fill=blue!10,draw,font=\sffamily\bfseries,align = center}]

  \node[main node] (4) {piece};
  \node[main node] (2) [left of=4] {painting};

  \node[main node] (5) [below of=2] {oil painting};
  \node[main node] (6) [left of=5] {famous\\painting};
  \node[main node] (7) [left of=6] {world's\\most famous\\painting};

  \node[main node] (10) [right of=5] {art piece};
  \node[main node] (11) [right of=10] {historical\\art piece};

  \node[main node] (12) [below of=6] {Mona lisa};


  \path[every node/.style={font=\sffamily\small}]

    (5) edge  node [left] {$\lambda_{i3}$} (2)
        edge [bend right] node [right] {\small{$ 0.65\alpha_{i3} $}} (2)
        edge  [bend right] node[left]  {\small{$ 0.28\alpha_{i3} $}} (4)
    (6) edge [bend left] node [right] {$\lambda_{i1}$} (2)
    (7) edge [bend left] node [right] {$\lambda_{i2}$} (2)

    (10) edge [bend right] node[right] {$\lambda_{i4}$} (4)
    (11) edge node[right] {$\lambda_{i5}$} (4)
    (12) edge [bend right]node[right] {0.01} (10)
         edge [bend right]node[right] {0.007} (11)
         edge node[right] {0.04} (5)
         edge node[right] {0.05} (6)
         edge node[right] {0.007} (7)
         edge node[left] {0.23} (2)
         edge [bend right]node[right] {0.04} (4);

\end{tikzpicture}
\caption{calculating $P(\gamma_i|\term{Mona Lisa})$ }
\end{figure*}

The process of calculation is illustrated in the example~\ref{exa:calc}

\begin{example}[Calculating $P(\gamma_i|e)$]
\label{exa:calc}
As illustrated in Fig.~\ref{fig:pgge}, the process of calculating the typicality a concept is as follows, where \term{painting} is $\gamma_i$ and \term{Mona Lisa} is $e$. Then $P(\term{painting}|\term{Mona Lisa})$ consists of 2 parts, the direct edge $P_{original}(\gamma_i|e)= 0.23$, and the second part
$$\sum_{ c_{long}^*\in C_{long} } [ \lambda_{i}^*+(\alpha_{i}^*) P(\gamma_i|c_{long}^*) ] \times  P(c_{long}^*|e) $$
$(\alpha_i^*+\gamma_i^*=1)$
Thus we get
$$ P = 0.007\times \lambda_{i2}+0.05\times \lambda_{i1}+0.04\times(\lambda_{i3}+0.65\alpha_{i3}) $$
For \term{piece}, it is the similar process. The relation here is only part of the whole graph.
\end{example}




We consider only 2 layers of isA relationship for 2 reasons. The first one is that more layers will lead to noisy concepts such as \term{issue, factor, element}, which are concepts for almost eveything, Secondly, discussing the transitive relation between concepts is beyond the scope of this paper.
